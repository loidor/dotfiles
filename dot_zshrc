############
## Zgenom ##
############

# Load it, bring it babe
source "${HOME}/.zgenom/zgenom.zsh"

# Update it
zgenom autoupdate

# If the init script doesn't exist
if ! zgenom saved; then

    # OMZ base library
    zgenom ohmyzsh

    # OMZ Plugins
    zgenom ohmyzsh plugins/battery
    zgenom ohmyzsh plugins/colored-man-pages
    zgenom ohmyzsh plugins/colorize
    zgenom ohmyzsh plugins/cp
    zgenom ohmyzsh plugins/extract
    zgenom ohmyzsh plugins/git
    zgenom ohmyzsh plugins/sudo
    zgenom ohmyzsh plugins/tmux
    zgenom ohmyzsh plugins/z

    # Other plugins
    zgenom load zsh-users/zsh-syntax-highlighting
    zgenom load zsh-users/zsh-autosuggestions

    # Generate the init script from plugins above
    zgenom save

    # Compile your zsh files
    zgenom compile "$HOME/.zshrc"
fi

# If adding plugins, run zgenom reset to delete the current init.

################
## Oh My Posh ##
################

eval "$(oh-my-posh init zsh --config .oh-my-posh/Princess.omp.yaml)"


##############
## User hax ##
##############

# $PATH paths
path+=("$HOME/.local/bin")
path+=("$HOME/go/bin")
path+=("/usr/local/go/bin")
export PATH

# ls
#---

if which eza >/dev/null; then
    alias ls="eza"
    alias ll="eza -l"
    alias la="eza -la"
    alias lt="eza -l --tree"
else
    alias ls="ls --color=always"
    alias ll="ls -l"
    alias la="ls -lA"
fi

for alias in lsl sls lsls sl l s; do alias $alias=ls; done

# online tool(s)
#---------------

# Termbin
alias tb="nc termbin.com 9999"

# Setup some terminal file upload tool

# other tool thingies
#--------------------

# grep to color, ag to grep if ag just isn't there
alias grep="grep --color=always"
which ag >/dev/null || alias ag="grep -rn"

# Ubuntu effs up fd and calls it fdfind. No more!
! which fdfind >/dev/null || alias fd="fdfind"

# Editorials
#-----------

if which micro >/dev/null; then
    alias nano="micro"
    export EDITOR="micro"
else
    export EDITOR="nano"
fi

# Aliases
#--------

alias c="clear"
alias rm="rm -r"
alias update="sudo apt update && sudo apt upgrade -y && sudo apt autoremove -y && sudo apt autoclean"
alias .="source"
alias ..="cd .."
alias ...="cd ..; cd .."
alias ....="cd ..; cd ..; cd .."
alias chez="chezmoi"

# Error handling
#---------------

alias mc="mv"
alias cf="cd"
alias apt="sudo apt"
alias reboot="sudo reboot"
alias poweroff="sudo poweroff"
alias systemctl="sudo systemctl"
alias please="sudo"
